<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MARITIME SAFETY SERVICES UNIT NCR-CL</title>
<link rel="manifest" href="manifest.json" />
<link rel="stylesheet" href="style.css" />
</head>
<body>
<!-- Splash Page -->
<div id="splash" class="center">
  <div class="splash-card">
    <h1>MARITIME SAFETY SERVICES UNIT NCR-CL</h1>
    <p class="lead">Saving Lives</p>
    <div class="splash-actions">
      <button id="enterBtn" class="btn primary">Enter</button>
    </div>
  </div>
</div>

<!-- Main App -->
<div id="app" class="app" style="display:none;">
  <header class="app-header">
    <div>
      <h2>MSSU NCR-CL PORTAL</h2>
      <div class="muted">Admin | Logistics | Operations | Functional Branches</div>
    </div>
    <div class="header-actions">
      <button id="signinBtn" class="btn small">Sign in</button>
      <button id="signoutBtn" class="btn small" style="display:none;">Sign out</button>
      <button id="printBtn" class="btn small">üñ®Ô∏è Print</button>
    </div>
  </header>

  <nav class="main-nav">
    <button class="nav-btn active" data-page="admin">Admin</button>
    <button class="nav-btn" data-page="logistics">Logistics</button>
    <button class="nav-btn" data-page="operation">Operation</button>
    <button class="nav-btn" data-page="functional">Functional Branches</button>
    <button class="nav-btn" data-page="others">Others</button>
  </nav>

  <main id="sections">
    <iframe id="pageFrame" src="admin.html" style="width:100%;height:calc(100vh - 220px);border:0;"></iframe>
  </main>

  <footer class="app-footer">
    <div class="muted">Offline-capable ‚Ä¢ Data syncs to Google Drive/Sheets when online</div>
  </footer>
</div>

<!-- Script Connections -->
<script>
// Entry button
document.getElementById('enterBtn').onclick = () => {
  document.getElementById('splash').style.display = 'none';
  document.getElementById('app').style.display = 'block';
};

// Navigation (iframe swap)
document.querySelectorAll('.nav-btn').forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('pageFrame').src = btn.dataset.page + '.html';
  };
});

// Print
document.getElementById('printBtn').onclick = () => {
  const iframe = document.getElementById('pageFrame');
  iframe.contentWindow.focus();
  iframe.contentWindow.print();
};

// PWA support
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js').catch(console.error);
}
</script>

<!-- Linked Script -->
<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbz9FmJzjWDQb4Klu3ba5rke_3Icv0qqHdi81mBDeAxbYLeX46GFD_9JQkuPJnu4vHLlyQ/exec";
const DRIVE_UPLOAD_URL = "https://script.google.com/macros/s/AKfycbx9efC0AU0DjFvHst8PPmRTffUVxc22UIMXbVVHMS2vS31KqnrUzIefasOijrARolxh4g/exec";
const GOOGLE_CLIENT_ID = "507773507877-t1prpckunc9l2700dgfflhfk6jf2de5c.apps.googleusercontent.com";
</script>
<script src="script.js"></script>
</body>
</html>
